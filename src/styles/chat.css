/* Chat CSS for ChatPanel UI */
@import './tokens.css';

.chat-panel { 
  width: 380px; 
  background: #ffffff; 
  border-left: 1px solid var(--gray-200); 
  display: flex; 
  flex-direction: column; 
  position: relative; 
  transition: transform .3s var(--ease), opacity .3s var(--ease); 
  box-shadow: -2px 0 6px -2px rgba(16,24,40,0.08);
} 

.chat-panel:not(.open) { 
  transform: translateX(100%); 
  opacity: 0; 
  pointer-events: none;
} 

@media (max-width: 960px) { 
  .chat-panel { 
    position: fixed; 
    inset: 0 0 0 auto; 
    width: 100%; 
    z-index: 60; 
    box-shadow: 0 0 0 100vmax rgba(0,0,0,0.45);
  } 
}

.chat-panel__header { 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  padding: .75rem .9rem; 
  border-bottom: 1px solid var(--gray-200);
} 

.chat-panel__title { 
  font-size: .95rem; 
  font-weight: 600; 
  margin: 0;
} 

.chat-panel__body { 
  flex: 1; 
  min-height: 0; 
  overflow-y: auto; 
  padding: .75rem .9rem 1rem; 
  display: flex; 
  flex-direction: column; 
  gap: .75rem;
} 

.chat-panel--loading { 
  padding: 1rem; 
}

.chat-empty { 
  margin-top: 2rem; 
  text-align: center; 
  color: var(--gray-600);
} 

.chat-empty__headline { 
  font-size: 1rem; 
  font-weight: 600; 
}

.quick-suggestions { 
  margin-top: 1rem; 
  display: flex; 
  flex-wrap: wrap; 
  gap: .5rem; 
  justify-content: center; 
}

.suggestion-chip { 
  background: var(--gray-100); 
  border: 1px solid var(--gray-200); 
  border-radius: 999px; 
  padding: .4rem .9rem; 
  font-size: .75rem; 
  cursor: pointer; 
  transition: background .15s var(--ease), border-color .15s var(--ease);
} 

.suggestion-chip:hover { 
  background: var(--color-brand-50); 
  border-color: var(--color-brand-300);
} 

.message-list { 
  display: flex; 
  flex-direction: column; 
  gap: .65rem; 
}

.bubble { 
  max-width: 78%; 
  padding: .65rem .85rem; 
  border-radius: 14px; 
  font-size: .85rem; 
  line-height: 1.4; 
  position: relative; 
  background: var(--gray-100); 
  color: var(--gray-800); 
  box-shadow: 0 1px 1px rgba(0,0,0,0.05); 
  animation: bubbleIn .25s ease; 
}

.bubble--user { 
  margin-left: auto; 
  background: var(--color-brand-600); 
  color: #fff; 
}

.bubble--assistant { 
  background: #fff; 
  border: 1px solid var(--gray-200);
} 

@keyframes bubbleIn { 
  from { 
    transform: translateY(6px); 
    opacity: 0;
  } 
  to { 
    transform: translateY(0); 
    opacity: 1;
  } 
}

.composer { 
  border-top: 1px solid var(--gray-200); 
  padding: .65rem .75rem .75rem; 
  background: #fff; 
  display: flex; 
  flex-direction: column; 
  gap: .5rem; 
}

.composer__input { 
  width: 100%; 
  resize: none; 
  border: 1px solid var(--gray-300); 
  border-radius: 10px; 
  padding: .55rem .7rem; 
  font-size: .85rem; 
  line-height: 1.35; 
  font-family: inherit; 
  transition: border-color .15s var(--ease), background .15s var(--ease); 
  background: var(--gray-50);
} 

.composer__input:focus { 
  outline: none; 
  background: #fff; 
  border-color: var(--color-brand-400); 
  box-shadow: 0 0 0 2px var(--color-brand-200);
} 

.composer__actions { 
  display: flex; 
  justify-content: flex-end; 
}

.typing-indicator { 
  display: inline-flex; 
  gap: .35rem; 
  padding: .35rem .65rem; 
  align-self: flex-start; 
  background: var(--gray-100); 
  border-radius: 999px; 
  margin-top: .25rem; 
}

.typing-indicator .dot { 
  width: 6px; 
  height: 6px; 
  border-radius: 50%; 
  background: var(--gray-500); 
  animation: typing 1s infinite ease-in-out; 
}

.typing-indicator .dot:nth-child(2) { 
  animation-delay: .15s;
} 

.typing-indicator .dot:nth-child(3) { 
  animation-delay: .3s;
} 

@keyframes typing { 
  0%, 80%, 100% { 
    opacity: .3; 
    transform: translateY(0);
  } 
  40% { 
    opacity: 1; 
    transform: translateY(-3px);
  } 
}

/* Dark mode styles */
.dark .chat-panel { 
  background: var(--bg-subtle); 
  border-left-color: #253244; 
}

.dark .bubble { 
  background: var(--bg-muted); 
  color: var(--gray-50); 
  border: 1px solid #253244; 
}

.dark .bubble--user { 
  background: var(--color-brand-600);
} 

.dark .composer { 
  background: var(--bg-subtle); 
  border-top-color: #253244; 
}

.dark .composer__input { 
  background: var(--bg-muted); 
  border-color: #314155; 
  color: var(--gray-50);
} 

.dark .composer__input:focus { 
  border-color: var(--color-brand-500); 
  box-shadow: 0 0 0 2px rgba(49,140,255,0.25);
}